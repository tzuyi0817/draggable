var W=Object.defineProperty,X=Object.defineProperties;var Y=Object.getOwnPropertyDescriptors;var j=Object.getOwnPropertySymbols;var Z=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable;var M=(e,n,a)=>n in e?W(e,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[n]=a,L=(e,n)=>{for(var a in n||(n={}))Z.call(n,a)&&M(e,a,n[a]);if(j)for(var a of j(n))ee.call(n,a)&&M(e,a,n[a]);return e},V=(e,n)=>X(e,Y(n));import{ref as m,toRefs as te,nextTick as U,defineComponent as S,useSlots as ae,useAttrs as ne,h as re,watch as le,openBlock as v,createBlock as Q,unref as R,createElementBlock as y,createVNode as q,isRef as K,withCtx as z,Fragment as G,renderList as H,createElementVNode as w,toDisplayString as x,onMounted as oe,effectScope as se,markRaw as ue,createApp as ie}from"vue";const de=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const f of o.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function a(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerpolicy&&(o.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?o.credentials="include":t.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(t){if(t.ep)return;t.ep=!0;const o=a(t);fetch(t.href,o)}};de();const ce=e=>Array.isArray(e),ge=e=>fe(e)==="object";function fe(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function $(){return URL.createObjectURL(new Blob).slice(-36)}function E({a:e,b:n,from:a,to:s}){s?[a[e],s[n]]=[s[n],a[e]]:[a[e],a[n]]=[a[n],a[e]]}const P=new Map,b=m(void 0),_=m(void 0),h=m(null),C=m(null);function pe(e,n){const a=m([]),{modelValue:s}=te(e);P.set(n,{draggableList:a,modelValue:s});function t(i){const r=i.target.dataset.draggableArea;r!==void 0&&D(r)}function o(i){var l;const r=i.target;r.dataset.draggableId!==((l=h.value)==null?void 0:l.dataset.draggableId)&&(r.style.opacity="0.3",h.value=r)}function f(i){if(!i.dataTransfer)return;const r=i.target;i.dataTransfer.effectAllowed="move",b.value=r.dataset.draggableId,_.value=r.parentNode.dataset.draggableArea}function B(){h.value.style.opacity="1"}function O(i){var c;i.preventDefault();const r=i.target,l=r.dataset.draggableId,d=r.parentNode.dataset.draggableArea;if(d!==void 0&&d!==_.value){D(d,l);return}!l||r.dataset.draggableId===((c=C.value)==null?void 0:c.dataset.draggableId)||(C.value=r,T(l))}async function T(i){var d,c;if(!b.value||b.value===i)return;const r=a.value.findIndex(u=>u===b.value),l=a.value.findIndex(u=>u===i);if(e.animation){const{moveToBefore:u,moveToAfter:p}=e.animation,g=r<l?p:u;(d=C.value)==null||d.classList.remove(u,p),(c=C.value)==null||c.classList.add(g)}await U(),E({a:r,b:l,from:a.value}),E({a:r,b:l,from:e.modelValue})}async function D(i,r){if(!_.value)return;const{draggableList:l,modelValue:d}=P.get(_.value);_.value=i;const{draggableList:c,modelValue:u}=P.get(_.value),p=l.value.findIndex(g=>g===b.value);if(!r)I(l.value,c.value,p),I(d.value,u.value,p);else{const g=c.value.findIndex(A=>A===r);E({a:p,b:g,from:l.value,to:c.value}),E({a:p,b:g,from:d.value,to:u.value})}await U(),k()}function I(i,r,l){const[d]=i.splice(l,1);r.push(d)}function k(){h.value=document.querySelector(`[data-draggable-id='${b.value}']`),h.value.style.opacity="0.3"}function F(){a.value=e.modelValue.map(i=>$())}return{handleDragAreaEnter:t,handleDrag:o,handleDragStart:f,handleDragEnd:B,handleDragEnter:O,setDraggableList:F,draggableList:a}}const N=S({props:{tag:{default:"div"},modelValue:null,animation:null},setup(e){const n=e,a=ae(),s=ne(),t=$(),{handleDragAreaEnter:o,handleDrag:f,handleDragStart:B,handleDragEnd:O,handleDragEnter:T,setDraggableList:D,draggableList:I}=pe(n,t),k=S({render(){if(!!a.default)return a.default().map(r=>{var c;const l={class:s.class&&[s.class],ondragenter:o,["data-draggable-area"]:t},d=ce(r.children)?(c=r.children)==null?void 0:c.map((u,p)=>{if(ge(u)){const g=F(u);return V(L({},u),{props:V(L({},u.props),{draggable:g,ondragstart:g&&B,ondrag:g&&f,ondragend:g&&O,ondragenter:g&&T,class:i(u,g),["data-draggable-id"]:I.value[p]})})}return u}):r.children;return re(n.tag,l,[V(L({},r),{children:d})])})}});function F(r){var g,A;const{draggable:l}=s;if(l===void 0||typeof l!="string")return!0;const d={".":"class","#":"id"},c=l.slice(0,1),u=l.slice(1);return((A=(g=r.props)==null?void 0:g[d[c]])!=null?A:"").split(" ").includes(u)}function i(r,l){var u;const d=(u=r.props)==null?void 0:u.class,c=l?"draggable__hover":"draggable__disable";return(d?`${d} `:"")+c}return le(()=>n.modelValue,D,{immediate:!0}),(r,l)=>(v(),Q(R(k)))}});N.install=function(e){e.component("Draggable",N)};const me=S({props:{list1:null,list2:null},setup(e){const n={moveToBefore:"draggable-drop-up",moveToAfter:"draggable-drop-down"};return(a,s)=>(v(),y("div",null,[q(R(N),{tag:"ul",modelValue:e.list1,"onUpdate:modelValue":s[0]||(s[0]=t=>K(list1)?list1.value=t:null),class:"draggable",animation:n},{default:z(()=>[(v(!0),y(G,null,H(e.list1,t=>(v(),y("li",{key:t.id},[w("p",null,"id: "+x(t.name),1),w("p",null,"\u521D\u59CB\u4F4D\u7F6E: "+x(t.id),1)]))),128))]),_:1},8,["modelValue"]),q(R(N),{tag:"ul",modelValue:e.list2,"onUpdate:modelValue":s[1]||(s[1]=t=>K(list2)?list2.value=t:null),class:"draggable",animation:n},{default:z(()=>[(v(!0),y(G,null,H(e.list2,t=>(v(),y("li",{key:t.id},[w("p",null,"id: "+x(t.name),1),w("p",null,"\u521D\u59CB\u4F4D\u7F6E: "+x(t.id),1)]))),128))]),_:1},8,["modelValue"])]))}});const ve=S({setup(e){const n=m([]),a=m([]);function s(t){return Array(t).fill("").map((o,f)=>({id:`${f+1}`,name:$()}))}return oe(()=>{n.value=s(9)}),(t,o)=>(v(),Q(me,{list1:n.value,list2:a.value},null,8,["list1","list2"]))}});var be=!1;/*!
  * pinia v2.0.13
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const _e=e=>e,ye=Symbol();var J;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(J||(J={}));function he(){const e=se(!0),n=e.run(()=>m({}));let a=[],s=[];const t=ue({install(o){_e(t),t._a=o,o.provide(ye,t),o.config.globalProperties.$pinia=t,s.forEach(f=>a.push(f)),s=[]},use(o){return!this._a&&!be?s.push(o):a.push(o),this},_p:a,_a:null,_e:e,_s:new Map,state:n});return t}const De=ie(ve),Ie=he();De.use(Ie).mount("#app");
